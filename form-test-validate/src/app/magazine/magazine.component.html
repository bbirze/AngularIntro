<!-- Things change when we use the <form> tag!

     #theForm template variable references ngForm
     ngForm Creates a top-level FormGroup instance 
            and binds it to a form DOM node 

     Now all our controls are children of our form. Means #theForm 
     template variable is local to all our form controls!
-->
<form #theForm="ngForm">

  <!-- Add require validation, CSS styling on errors
      Template Variables 
          theElement= DOM Element,
                Used to print out applied CSS classes  
          theModel set to ngModel, t
                Used to get the model's state
      Error message shown depending on theModel state 
  -->
  Full name: <br/>
  <span style="color:red" 
        [hidden]="theModel.valid || theModel.untouched">
    Please enter your name<br/>    
  </span>
  <input name="fullName" type="text" [(ngModel)]="fullName" 
        required #theElement #theModel="ngModel" />
  <br/> Class names: {{theElement.className}}
  <br/> Model Valid : {{theModel.valid}} - Invalid : {{theModel.invalid}}
  <br/> Model Touched: {{theModel.touched}} - UnTouched: {{theModel.untouched}}
  <br/> Model Dirty : {{theModel.dirty}} - Pristine : {{theModel.pristine}}<br/>

  <br/> Magazine edition: <br/>
  <select name="selectedEdition" [(ngModel)]="selectedEdition">
    <option *ngFor="let e of editions" [ngValue]="e">
      {{e.edditionName}}
    </option>
  </select><br/> 
  
  Shipping Option: <br/>
  <input name="selectedShipping" type="radio" 
        [(ngModel)]="selectedShipping" value="GROUND" /> Ground
  <input name="selectedShipping" type="radio" 
        [(ngModel)]="selectedShipping" value="AIR" /> Air <br/>

  <label>
      <input name="acceptPolicy" type="checkbox" [(ngModel)]="acceptPolicy"/>
      I accept the terms and conditions 
</label>
  <br/> 
  Price: {{selectedEdition.price}}
  <br/>
  <!-- Purchase button enabled dependent on theForm being valid
            and the accept checkbox being checked
  -->
  <button [disabled]="theForm.invalid || !acceptPolicy" 
          (click)="submitForm(theForm)">
    Purchase
  </button>
</form>
